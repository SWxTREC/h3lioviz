<div *ngIf="!validConnection" class="viz__loading viz__loading--disconnect">
    <p *ngIf="errorMessage" class="viz__error">{{ errorMessage }} please <mat-icon class="viz__icon">refresh</mat-icon> refresh your browser</p>
    <swt-server-status *ngIf="!serverStatus && !errorMessage"></swt-server-status>
    <p *ngIf="!errorMessage && !pvServerStarted">{{waitingMessage}}</p>
    <p *ngIf="!errorMessage && pvServerStarted && !validConnection">connecting to websocketâ€¦</p>
    <mat-spinner *ngIf="!validConnection && !errorMessage" color="primary" diameter="40"></mat-spinner>
</div>
<div class="viz__split" [class.viz__fade]="!validConnection">
    <as-split direction="horizontal">
        <as-split-area class="viz__panel" [size]="visualizerSplit[0]">
            <swt-control-panel [pvView]="pvView"></swt-control-panel>
        </as-split-area>
        <as-split-area class="viz__panel" [size]="visualizerSplit[1]">
            <swt-time-player *ngIf="timeTicks[0]" [pvView]="pvView" [timeTicks]="timeTicks" (updateTime)="getTimestep($event)"></swt-time-player>
            <div class="viz__pv-container">
                <div *ngIf="loading" class="viz__loading">
                    <mat-spinner color="accent" diameter="40"></mat-spinner>
                </div>
                <div #pvContent class="viz__pv"></div>
            </div>
        </as-split-area>
    </as-split>
</div>
