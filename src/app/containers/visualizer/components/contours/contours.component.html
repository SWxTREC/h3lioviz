<form class="contours" [formGroup]="contours">
    <mat-checkbox class="form__spacer" color="primary" formControlName="threshold">
        Surface contour by variable
    </mat-checkbox>
    @if ( contours.value.threshold ) {
        <mat-form-field>
            <mat-label>Contour variable
            </mat-label>
            <mat-select [compareWith]="compareObjectNames" formControlName="contourVariable">
                @for (variable of focusVariables; track variable) {
                    <mat-option [value]="variable">
                        {{ variable.displayName }}
                    </mat-option>
                }
                <button
                    class="contours__more"
                    mat-button
                    [disabled]="additionalVariableSelected"
                    (click)="showAll = !showAll">
                    {{ showAll ? 'Fewer options' : 'More optionsâ€¦' }}
                </button>
                @if (showAll) {
                    @for (variable of additionalVariables; track variable) {
                        <mat-option [value]="variable">
                            {{ variable.displayName }}
                        </mat-option>
                    }
                }
            </mat-select>
        </mat-form-field>
        <div>
            <strong>Show {{ contours.value.contourVariable.displayName }} value</strong>
            <small innerHTML=" ({{contours.value.contourVariable.units}})"></small>
            <ngx-slider laspEnhancedNgxSlider [options]="contourOptions" [value]="contourValue" (userChange)="contourValueChange($event)"></ngx-slider>
        </div>
    }
</form>
